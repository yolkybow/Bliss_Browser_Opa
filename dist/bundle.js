(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,a=0;a<e.length;a++)if(e[a].identifier===n){t=a;break}return t}function a(n,a){for(var r={},i=[],c=0;c<n.length;c++){var s=n[c],d=a.base?s[0]+a.base:s[0],l=r[d]||0,p="".concat(d," ").concat(l);r[d]=l+1;var u=t(p),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)e[u].references++,e[u].updater(m);else{var b=o(m,a);a.byIndex=c,e.splice(c,0,{identifier:p,updater:b,references:1})}i.push(p)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var r=a(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var c=t(r[i]);e[c].references--}for(var s=a(n,o),d=0;d<r.length;d++){var l=t(r[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=s}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",a=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),a&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),a&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,a,o,r){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(a)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);a&&i[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>c});var a=t(601),o=t.n(a),r=t(314),i=t.n(r)()(o());i.push([n.id,"/* Reset and base styles */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    background-color: #f5f7fa;\n    color: #333;\n    line-height: 1.6;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 0 20px;\n}\n\n/* Header */\n.header {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 20px 0;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n.header h1 {\n    font-size: 2.5rem;\n    margin-bottom: 10px;\n    display: flex;\n    align-items: center;\n    gap: 15px;\n}\n\n.portfolio-summary {\n    display: flex;\n    gap: 40px;\n    margin-top: 15px;\n}\n\n.summary-item {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n}\n\n.summary-item .label {\n    font-size: 0.9rem;\n    opacity: 0.8;\n}\n\n.summary-item .value {\n    font-size: 1.5rem;\n    font-weight: bold;\n}\n\n/* Navigation */\n.nav {\n    background: white;\n    border-bottom: 1px solid #e1e5e9;\n    padding: 0;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n}\n\n.nav .container {\n    display: flex;\n    gap: 0;\n}\n\n.nav-btn {\n    background: none;\n    border: none;\n    padding: 20px 25px;\n    cursor: pointer;\n    font-size: 1rem;\n    color: #666;\n    border-bottom: 3px solid transparent;\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.nav-btn:hover {\n    background-color: #f8f9fa;\n    color: #333;\n}\n\n.nav-btn.active {\n    color: #667eea;\n    border-bottom-color: #667eea;\n    background-color: #f8f9fa;\n}\n\n/* Main content */\n.main {\n    padding: 30px 0;\n    min-height: calc(100vh - 200px);\n}\n\n.section {\n    display: none;\n}\n\n.section.active {\n    display: block;\n}\n\n.section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 30px;\n}\n\n.section-header h2 {\n    font-size: 2rem;\n    color: #333;\n}\n\n/* Buttons */\n.btn {\n    padding: 12px 24px;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 1rem;\n    font-weight: 500;\n    transition: all 0.3s ease;\n    display: inline-flex;\n    align-items: center;\n    gap: 8px;\n    text-decoration: none;\n}\n\n.btn-primary {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n}\n\n.btn-primary:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n}\n\n.btn-secondary {\n    background: #6c757d;\n    color: white;\n}\n\n.btn-secondary:hover {\n    background: #5a6268;\n}\n\n.btn-danger {\n    background: #dc3545;\n    color: white;\n}\n\n.btn-danger:hover {\n    background: #c82333;\n}\n\n.btn-sm {\n    padding: 8px 16px;\n    font-size: 0.875rem;\n}\n\n/* Overview cards */\n.overview-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 20px;\n    margin-bottom: 30px;\n}\n\n.overview-card {\n    background: white;\n    border-radius: 12px;\n    padding: 25px;\n    box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n    transition: transform 0.3s ease;\n}\n\n.overview-card:hover {\n    transform: translateY(-5px);\n}\n\n.card-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n}\n\n.card-header h3 {\n    font-size: 1.1rem;\n    color: #666;\n    font-weight: 500;\n}\n\n.card-header i {\n    font-size: 1.5rem;\n    color: #667eea;\n}\n\n.card-value {\n    font-size: 2rem;\n    font-weight: bold;\n    color: #333;\n}\n\n/* Tables */\n.table-container {\n    background: white;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n}\n\n.data-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.data-table th {\n    background: #f8f9fa;\n    padding: 15px;\n    text-align: left;\n    font-weight: 600;\n    color: #555;\n    border-bottom: 2px solid #e1e5e9;\n}\n\n.data-table td {\n    padding: 15px;\n    border-bottom: 1px solid #e1e5e9;\n}\n\n.data-table tr:hover {\n    background-color: #f8f9fa;\n}\n\n/* Status indicators */\n.gain {\n    color: #28a745;\n    font-weight: 600;\n}\n\n.loss {\n    color: #dc3545;\n    font-weight: 600;\n}\n\n.neutral {\n    color: #6c757d;\n    font-weight: 600;\n}\n\n/* Modal */\n.modal {\n    display: none;\n    position: fixed;\n    z-index: 1000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0,0,0,0.5);\n    backdrop-filter: blur(5px);\n}\n\n.modal-content {\n    background-color: white;\n    margin: 5% auto;\n    padding: 0;\n    border-radius: 12px;\n    width: 90%;\n    max-width: 600px;\n    box-shadow: 0 10px 30px rgba(0,0,0,0.3);\n    animation: modalSlideIn 0.3s ease;\n}\n\n@keyframes modalSlideIn {\n    from {\n        opacity: 0;\n        transform: translateY(-50px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.modal-header {\n    padding: 20px 25px;\n    border-bottom: 1px solid #e1e5e9;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.modal-header h3 {\n    margin: 0;\n    color: #333;\n}\n\n.close-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    color: #666;\n    padding: 0;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    transition: all 0.3s ease;\n}\n\n.close-btn:hover {\n    background-color: #f8f9fa;\n    color: #333;\n}\n\n.modal-body {\n    padding: 25px;\n}\n\n.modal-footer {\n    padding: 20px 25px;\n    border-top: 1px solid #e1e5e9;\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n}\n\n/* Form styles */\n.form-group {\n    margin-bottom: 20px;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 5px;\n    font-weight: 500;\n    color: #555;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid #ddd;\n    border-radius: 6px;\n    font-size: 1rem;\n    transition: border-color 0.3s ease;\n}\n\n.form-group input:focus,\n.form-group select:focus,\n.form-group textarea:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n.form-group textarea {\n    resize: vertical;\n    min-height: 80px;\n}\n\n/* Loading spinner */\n.loading {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    border: 3px solid #f3f3f3;\n    border-top: 3px solid #667eea;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n    .container {\n        padding: 0 15px;\n    }\n    \n    .header h1 {\n        font-size: 2rem;\n    }\n    \n    .portfolio-summary {\n        flex-direction: column;\n        gap: 15px;\n    }\n    \n    .nav .container {\n        flex-wrap: wrap;\n    }\n    \n    .nav-btn {\n        padding: 15px 20px;\n        font-size: 0.9rem;\n    }\n    \n    .section-header {\n        flex-direction: column;\n        gap: 15px;\n        align-items: flex-start;\n    }\n    \n    .overview-grid {\n        grid-template-columns: 1fr;\n    }\n    \n    .table-container {\n        overflow-x: auto;\n    }\n    \n    .data-table {\n        min-width: 600px;\n    }\n    \n    .modal-content {\n        width: 95%;\n        margin: 10% auto;\n    }\n}\n\n/* Real-time indicator */\n.real-time-indicator {\n    display: inline-flex;\n    align-items: center;\n    gap: 5px;\n    font-size: 0.8rem;\n    color: #28a745;\n    font-weight: 500;\n}\n\n.real-time-indicator::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    background-color: #28a745;\n    border-radius: 50%;\n    animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n    0% {\n        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7);\n    }\n    70% {\n        box-shadow: 0 0 0 10px rgba(40, 167, 69, 0);\n    }\n    100% {\n        box-shadow: 0 0 0 0 rgba(40, 167, 69, 0);\n    }\n}",""]);const c=i},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var a=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,o&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(a,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,exports:{}};return n[a](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var a=t(72),o=t.n(a),r=t(825),i=t.n(r),c=t(659),s=t.n(c),d=t(56),l=t.n(d),p=t(540),u=t.n(p),m=t(113),b=t.n(m),f=t(365),h={};h.styleTagTransform=b(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=u(),o()(f.A,h),f.A&&f.A.locals&&f.A.locals;let g="overview",y=null,x=null,v={},$={properties:[],vehicles:[],stocks:[],crypto:[],bankAccounts:[]},w=null;function k(){const n=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}`;w=new WebSocket(n),w.onopen=function(){console.log("WebSocket connected")},w.onmessage=function(n){const e=JSON.parse(n.data);"liveDataUpdate"===e.type&&(v=e.data,_(),E())},w.onclose=function(){console.log("WebSocket disconnected, attempting to reconnect..."),setTimeout(k,3e3)},w.onerror=function(n){console.error("WebSocket error:",n)}}function E(){Promise.all([fetch("/api/properties").then(n=>n.json()),fetch("/api/vehicles").then(n=>n.json()),fetch("/api/stocks").then(n=>n.json()),fetch("/api/crypto").then(n=>n.json()),fetch("/api/bank-accounts").then(n=>n.json()),fetch("/api/portfolio/summary").then(n=>n.json())]).then(([n,e,t,a,o,r])=>{$={properties:n,vehicles:e,stocks:t,crypto:a,bankAccounts:o},function(){const n=document.getElementById("propertiesTable");n.innerHTML="",$.properties.forEach(e=>{const t=document.createElement("tr"),a=e.current_value-e.purchase_price,o=e.purchase_price>0?a/e.purchase_price*100:0;t.innerHTML=`\n            <td>${e.name}</td>\n            <td>${e.address||"N/A"}</td>\n            <td>${e.property_type||"N/A"}</td>\n            <td>$${T(e.purchase_price)}</td>\n            <td>$${T(e.current_value)}</td>\n            <td class="${a>=0?"gain":"loss"}">\n                ${a>=0?"+":""}$${T(a)} (${o>=0?"+":""}${T(o)}%)\n            </td>\n            <td>\n                <button class="btn btn-sm btn-secondary" onclick="editItem('property', ${e.id})">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-sm btn-danger" onclick="deleteItem('property', ${e.id})">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        `,n.appendChild(t)})}(),function(){const n=document.getElementById("vehiclesTable");n.innerHTML="",$.vehicles.forEach(e=>{const t=document.createElement("tr");e.current_value,e.purchase_price,e.purchase_price>0&&e.purchase_price,t.innerHTML=`\n            <td>${e.make} ${e.model}</td>\n            <td>${e.year||"N/A"}</td>\n            <td>$${T(e.purchase_price)}</td>\n            <td>$${T(e.current_value)}</td>\n            <td>${e.mileage?e.mileage.toLocaleString()+" mi":"N/A"}</td>\n            <td>${e.condition||"N/A"}</td>\n            <td>\n                <button class="btn btn-sm btn-secondary" onclick="editItem('vehicle', ${e.id})">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-sm btn-danger" onclick="deleteItem('vehicle', ${e.id})">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        `,n.appendChild(t)})}(),function(){const n=document.getElementById("stocksTable");n.innerHTML="",$.stocks.forEach(e=>{const t=document.createElement("tr"),a=v.stocks[e.symbol]||0,o=a*e.quantity,r=o-e.purchase_price*e.quantity,i=e.purchase_price>0?r/(e.purchase_price*e.quantity)*100:0;t.innerHTML=`\n            <td>\n                <strong>${e.symbol}</strong>\n                <span class="real-time-indicator">Live</span>\n            </td>\n            <td>${e.quantity}</td>\n            <td>$${T(e.purchase_price)}</td>\n            <td>$${T(a)}</td>\n            <td>$${T(o)}</td>\n            <td class="${r>=0?"gain":"loss"}">\n                ${r>=0?"+":""}$${T(r)}\n            </td>\n            <td class="${r>=0?"gain":"loss"}">\n                ${i>=0?"+":""}${T(i)}%\n            </td>\n            <td>\n                <button class="btn btn-sm btn-secondary" onclick="editItem('stock', ${e.id})">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-sm btn-danger" onclick="deleteItem('stock', ${e.id})">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        `,n.appendChild(t)})}(),function(){const n=document.getElementById("cryptoTable");n.innerHTML="",$.crypto.forEach(e=>{const t=document.createElement("tr"),a=v.crypto[e.symbol]||0,o=a*e.quantity,r=o-e.purchase_price*e.quantity,i=e.purchase_price>0?r/(e.purchase_price*e.quantity)*100:0;t.innerHTML=`\n            <td>\n                <strong>${e.symbol.toUpperCase()}</strong>\n                <span class="real-time-indicator">Live</span>\n            </td>\n            <td>${e.quantity}</td>\n            <td>$${T(e.purchase_price)}</td>\n            <td>$${T(a)}</td>\n            <td>$${T(o)}</td>\n            <td class="${r>=0?"gain":"loss"}">\n                ${r>=0?"+":""}$${T(r)}\n            </td>\n            <td class="${r>=0?"gain":"loss"}">\n                ${i>=0?"+":""}${T(i)}%\n            </td>\n            <td>\n                <button class="btn btn-sm btn-secondary" onclick="editItem('crypto', ${e.id})">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-sm btn-danger" onclick="deleteItem('crypto', ${e.id})">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        `,n.appendChild(t)})}(),function(){const n=document.getElementById("bankTable");n.innerHTML="",$.bankAccounts.forEach(e=>{const t=document.createElement("tr"),a=v.bankBalances[e.id]||e.current_balance||0;t.innerHTML=`\n            <td>${e.bank_name}</td>\n            <td>${e.account_type||"N/A"}</td>\n            <td>${e.account_number?"****"+e.account_number.slice(-4):"N/A"}</td>\n            <td>\n                <strong>$${T(a)}</strong>\n                <span class="real-time-indicator">Live</span>\n            </td>\n            <td>${e.last_updated?new Date(e.last_updated).toLocaleDateString():"N/A"}</td>\n            <td>\n                <button class="btn btn-sm btn-secondary" onclick="editItem('bank', ${e.id})">\n                    <i class="fas fa-edit"></i>\n                </button>\n                <button class="btn btn-sm btn-danger" onclick="deleteItem('bank', ${e.id})">\n                    <i class="fas fa-trash"></i>\n                </button>\n            </td>\n        `,n.appendChild(t)})}(),function(n){document.getElementById("totalValue").textContent=`$${T(n.total)}`,document.getElementById("propertiesValue").textContent=`$${T(n.properties)}`,document.getElementById("vehiclesValue").textContent=`$${T(n.vehicles)}`,document.getElementById("stocksValue").textContent=`$${T(n.stocks)}`,document.getElementById("cryptoValue").textContent=`$${T(n.crypto)}`,document.getElementById("bankValue").textContent=`$${T(n.bank)}`}(r)}).catch(n=>{console.error("Error loading portfolio data:",n)})}function _(){const n=new Date;document.getElementById("lastUpdated").textContent=n.toLocaleTimeString()}function I(n,e=null){y=n,x=e;const t=document.getElementById("modal"),a=document.getElementById("modalTitle"),o=document.getElementById("modalForm");a.textContent=e?`Edit ${n.charAt(0).toUpperCase()+n.slice(1)}`:`Add ${n.charAt(0).toUpperCase()+n.slice(1)}`,o.innerHTML="";const r=function(n){return{property:[{name:"name",label:"Property Name",type:"text",required:!0},{name:"address",label:"Address",type:"text"},{name:"property_type",label:"Property Type",type:"select",options:[{value:"house",text:"House"},{value:"apartment",text:"Apartment"},{value:"condo",text:"Condo"},{value:"commercial",text:"Commercial"},{value:"land",text:"Land"}]},{name:"purchase_price",label:"Purchase Price",type:"number",required:!0,step:"0.01"},{name:"current_value",label:"Current Value",type:"number",required:!0,step:"0.01"},{name:"purchase_date",label:"Purchase Date",type:"date"},{name:"notes",label:"Notes",type:"textarea"}],vehicle:[{name:"make",label:"Make",type:"text",required:!0},{name:"model",label:"Model",type:"text",required:!0},{name:"year",label:"Year",type:"number",min:"1900",max:(new Date).getFullYear()+1},{name:"purchase_price",label:"Purchase Price",type:"number",required:!0,step:"0.01"},{name:"current_value",label:"Current Value",type:"number",required:!0,step:"0.01"},{name:"purchase_date",label:"Purchase Date",type:"date"},{name:"mileage",label:"Mileage",type:"number"},{name:"condition",label:"Condition",type:"select",options:[{value:"excellent",text:"Excellent"},{value:"good",text:"Good"},{value:"fair",text:"Fair"},{value:"poor",text:"Poor"}]},{name:"notes",label:"Notes",type:"textarea"}],stock:[{name:"symbol",label:"Stock Symbol",type:"text",required:!0,placeholder:"e.g., AAPL"},{name:"quantity",label:"Quantity",type:"number",required:!0,step:"0.0001"},{name:"purchase_price",label:"Purchase Price per Share",type:"number",required:!0,step:"0.01"},{name:"purchase_date",label:"Purchase Date",type:"date"},{name:"notes",label:"Notes",type:"textarea"}],crypto:[{name:"symbol",label:"Crypto Symbol",type:"text",required:!0,placeholder:"e.g., bitcoin"},{name:"quantity",label:"Quantity",type:"number",required:!0,step:"0.00000001"},{name:"purchase_price",label:"Purchase Price per Unit",type:"number",required:!0,step:"0.01"},{name:"purchase_date",label:"Purchase Date",type:"date"},{name:"notes",label:"Notes",type:"textarea"}],bank:[{name:"bank_name",label:"Bank Name",type:"text",required:!0},{name:"account_type",label:"Account Type",type:"select",options:[{value:"checking",text:"Checking"},{value:"savings",text:"Savings"},{value:"investment",text:"Investment"},{value:"credit",text:"Credit Card"}]},{name:"account_number",label:"Account Number (last 4 digits)",type:"text",placeholder:"1234"},{name:"current_balance",label:"Current Balance",type:"number",step:"0.01"},{name:"notes",label:"Notes",type:"textarea"}]}[n]||[]}(n);if(r.forEach(n=>{const e=document.createElement("div");e.className="form-group";const t=document.createElement("label");let a;t.textContent=n.label,t.setAttribute("for",n.name),"textarea"===n.type?(a=document.createElement("textarea"),a.rows=3):"select"===n.type?(a=document.createElement("select"),n.options.forEach(n=>{const e=document.createElement("option");e.value=n.value,e.textContent=n.text,a.appendChild(e)})):(a=document.createElement("input"),a.type=n.type),a.id=n.name,a.name=n.name,a.required=n.required,a.value=n.value||"",e.appendChild(t),e.appendChild(a),o.appendChild(e)}),e){const t=$[n+"s"].find(n=>n.id===e);t&&r.forEach(n=>{const e=document.getElementById(n.name);e&&void 0!==t[n.name]&&(e.value=t[n.name])})}t.style.display="block"}function C(){document.getElementById("modal").style.display="none",y=null,x=null}function T(n){return null==n||isNaN(n)?"0.00":n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".nav-btn").forEach(n=>{n.addEventListener("click",n=>{var e;e=n.currentTarget.dataset.section,document.querySelectorAll(".nav-btn").forEach(n=>{n.classList.remove("active")}),document.querySelector(`[data-section="${e}"]`).classList.add("active"),document.querySelectorAll(".section").forEach(n=>{n.classList.remove("active")}),document.getElementById(e).classList.add("active"),g=e})}),document.getElementById("modal").addEventListener("click",n=>{"modal"===n.target.id&&C()}),k(),E(),_()}),window.openModal=I,window.closeModal=C,window.saveItem=function(){const n=document.getElementById("modalForm"),e=new FormData(n),t=Object.fromEntries(e.entries());["purchase_price","current_value","quantity","year","mileage","current_balance"].forEach(n=>{t[n]&&(t[n]=parseFloat(t[n]))}),fetch(x?`/api/${y}s/${x}`:`/api/${y}s`,{method:x?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n=>n.json()).then(n=>{n.error?alert("Error: "+n.error):(C(),E())}).catch(n=>{console.error("Error saving item:",n),alert("Error saving item. Please try again.")})},window.editItem=function(n,e){I(n,e)},window.deleteItem=function(n,e){confirm(`Are you sure you want to delete this ${n}?`)&&fetch(`/api/${n}s/${e}`,{method:"DELETE"}).then(n=>n.json()).then(n=>{n.error?alert("Error: "+n.error):E()}).catch(n=>{console.error("Error deleting item:",n),alert("Error deleting item. Please try again.")})}})();